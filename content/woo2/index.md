---
emoji: 🚀
title: 우테코 프리코스 2주차
date: '2022-11-02 00:00:00'
author: 김지수
tags: 우테코
categories: 우테코
---

# 우테코 프리코스 2주차

- 요구사항을 정확히 준수한다.
- 커밋 메시지를 의미있게 작성한다.
- git을 통해 관리할 자원에 대해서도 고려한다.

2주 차 미션에서는 1주 차에서 학습한 것에 더해 함수를 분리하고, 각 함수별로 테스트를 작성하는 것에 익숙해지는 것을 목표로 하고 있어요. 이번에 테스트를 처음 접하시는 분들은 언어별 테스트 도구를 학습하고 작은 단위의 기능부터 테스트를 작성해보길 바랍니다. 과제를 제출할 때 이번 주차 목표를 중심으로 학습하면서 느낀 점을 소감문으로 작성해 주세요. 이때 학습한 '과정’을 잘 드러내 주세요.

## 테스트 코드

테스트 코드를 작성하는데 처음해서 왜 필요한지? 어떻게 테스트를 작성해야 하는지?

목업 만들고 테스트 키워드가 아직 익숙하지 않아서 막힘. 더 정리하고 구현하기

jest는 페북에서 만든 테스팅 라이브러리 입니다.

ALL-in-one 테스팅 라이브러리

테스팅 프레임워크

첫 테스트 코드 작성

```
test("테스트 설명", () => {
    expect("검증 대상").toXxx("기대 결과");
})
```

toXxx 부분에서 사용되는 함수를 흔히 Test Matcher라고 합니다.
toBe() 함수는 숫자나 문자와 같은 객체가 아닌 기본형(원시타입) 값을 비교할 때 사용됩니다.

그리고 npm test를 실행하면 프로젝트 내에 모든 테스트 파일을 찾아서 테스트를 실행해줍니다. Jest는 기본적으로 test.js로 끝나거나, **test** 디렉터리 안에 있는 파일들은 모두 테스트 파일로 인식합니다. 만약 특정 테스트 파일만 실행하고 싶은 경우에는 npm test <파일 명이나 경로>를 입력하면 됩니다.

## 자주 사용되는 Matcher

Jest에서는 거의 상상 가능한 모든 경우에 대한 Matcher 함수를 제공하고 있습니다.
실전에서 많이 사용되는 Matcher 정리

toEqual()
다음과 같이 아이디를 넘기면 가짜 유저 객체를 리턴하는 함수를 테스트 하려고 합니다.

```
function getUser(id) {
    return {
        id,
        email: `user${id}@test.com`,
    };
}
```

toBe() 함수를 사용하면 테스트는 실패합니다.

```
test("유저 객체 리턴", () => {
    expect(getUser(1)).toBe({
        id: 1,
        email: `user1@test.com`,
    })
});
```

주요 matcher 함수
당연하지만 모든 matcher를 외우는 것은 비효율적인 일이고, 아래의 matcher들로도 대부분의 평가가 가능할 것이라 생각됩니다.
(이보다 복잡한 matcher가 필요하다면 공식 문서에서 확인하는 것을 추천드립니다!)

toBeDefined() 함수 : 값이 undefined 가 아닌지 검사한다. (주로 가장 먼저 검사한다!)
toBe() 함수 : 원시형 데이터를 비교한다.
toEqual() 함수 : 참조형 데이터를 깊은 비교를 통해 비교한다.
toBeTruthy() 함수 : 값이 참인지를 검사한다.
.toContain() 함수 : 특정 요소가 배열 안에 존재하는지를 검사한다.
not : 다른 매쳐 함수 앞에 체이닝해 사용하며, 해당 값의 반대값이 참인지를 검사한다.
주의 : not 은 함수가 아닌 프로퍼티

# module.exports 와 exports 의 차이

단일 내보내기
module.exports = 함수명

단일 불러오기
const 불러올변수명 = require("파일 경로")
불러올변수명

복수 내보내기
exports.함수1 = 함수1
exports.함수2 = 함수2

const 불러올변수명 = require("파일 경로")
불러올변수명.함수1
불러올변수명.함수2

많은 의미를 담으려 하다보니 변수명이 길어짐 - 많이 네이밍 해보기
insertMoney 콜백 함수 종료 후 실행햐아할 메소드들이 많아지면서 좀 더 범용적인 이름이 필요해 보임 - 생각해보기

하면서 자신감이 생긴다. 비동기 처리가 필요함

## 3주차 미션

처음 클래스를 분리하고 구조 잡기가 어려웠다. 그래서 진행하기 전 자바 야구 구현 영상을 봤다. 영상에서 가장 핵심은 시작하기 전에 폴더 구조와 메서드 이름을 정하고 하나씩 구현하는 과정에 있었다. 이런 힌트를 잡아 로또 구현에 녹여내고 싶었다. 리드미를 작성하고 구현 리스트를 작성했다. 하지만 처음부터 완벽하게 할 순 없었다. 처음엔 view를 담당하는 클래스와 로직을 담당하는 클래스로 나눠 작성하고 싶었는데 콜백 처리에 있어 클래스 분할로 구조를 잡기엔 아직 역량으로 역부족이였다. 리드미에 폴더 구조와 메서드를 작성하고 시작하니 잡생각 없이 하나에 메서드를 밀도 있게 구현할 수 있었기에 효율이 증가했다. 또한 중간에 추가해야할 로직과 변경해야할 것 들이 나오면서 디테일하게 구조를 잡아 나갔다. 큰 틀을 잡는데 시간을 더 투자 했기에 크게 구조를 뜯는 작업은 없었다. 하지만 다 만들고 보니 로직들이 단단하게 얽혀있다는 생각이 들었다. 잘은 모르지만 이런 구조는 모듈화 하기 어려울 것 같다. 이번주는 생각보다 빨리 구현하여 테스트 코드 작성에 더 힘을 주고 싶었다. 그래서 테스트를 작성하려는데 이미 구현할 때 값을 보면서 코딩을 했는데 굳이 어떤 부분을 테스트 해야하는지 왜 해야하는지 목적에 대한 갈증이 풀리지 않았다. 그래서 일단 제공받은 테스트 케이스를 살펴보기로 마음먹었다. 테스트에 익숙치 않던터라 해석하기도 어려웠다. 그래서 다시 구글링을 통해 개념을 먼저 잡기로 했다. 좋은 글을 찾았고, 필사 하면서 하나씩 음미해보았다. 그러고나니 코드가 어떤걸 의미하는지 어렴풋이 이해할 정도가 되었다. 그런 상태에서 다시 코드를 작성하려니 1차원 적인 테스트들이 나왔다. 더 높은 차원의 코드를 작성하고 싶었지만 그렇지 못했다. 기준이 너무 높았던 것 같다. 오전에는 예제 테스트를 이해도 못했지만 지금은 이해한것에 만족하며 감사해야겠다. 자바 가이드 영상 후반부를 다시 보면서 테스트의 의미에 대하여 다시 생각해 봐야겠다.
